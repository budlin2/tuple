import{r as n}from"./index.b461da8a.js";import{T as f,V as L}from"./TupleProvider.c3e92b8b.js";import{a as O,j as d}from"./jsx-runtime.3c5536b9.js";const E="_tabBar_1epjy_1",N="_tab_1epjy_1",A="_dragging_1epjy_25",I="_tabLabel_1epjy_30",R="_tabCloseContainer_1epjy_35",V="_tabClose_1epjy_35";var t={tabBar:E,tab:N,dragging:A,tabLabel:I,tabCloseContainer:R,tabClose:V};const b=({index:s,pageId:p,viewPath:o})=>{const r=n.exports.useRef(),[g,a]=n.exports.useState(!1),{pages:l,classes:i,styles:c,dipatchViewAction:_}=n.exports.useContext(f),T=`${t.tab} ${i.tab||""}`,y=`${t.tabLabel} ${i.tabLabel||""}`,C=`${t.tabClose} ${i.tabClose||""}`,B=()=>a(!0),x=()=>a(!1),v=e=>{console.log("Drag start!"),console.log(e.target),a(!1),e.dataTransfer.setData("pid",p)},S=e=>{e.preventDefault(),e.stopPropagation(),r.current&&(r.current.style.opacity="1");const D=e.dataTransfer.getData("pid");_({type:L.TREE_ADD_TAB,payload:{pid:D,path:o,index:s+1}})},m=e=>{e.preventDefault(),r.current.style.opacity="0.5"},h=e=>{e.preventDefault(),r.current.style.opacity="1"};return O("div",{ref:r,draggable:!0,style:c.tab,className:T,onDragStart:v,onDragEnter:m,onDragOver:m,onDragLeave:h,onDrop:S,onMouseOver:B,onMouseLeave:x,children:[d("div",{style:c.tabLabel,className:y,children:l[p].name}),d("div",{className:t.tabCloseContainer,children:g&&d("div",{style:c.tabClose,className:C,onClick:()=>{},children:"\u2716"})})]})};try{b.displayName="Tab",b.__docgenInfo={description:"",displayName:"Tab",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},pageId:{defaultValue:null,description:"",name:"pageId",required:!0,type:{name:"ID"}},viewPath:{defaultValue:null,description:"",name:"viewPath",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/components/TabBar/Tab.tsx#Tab"]={docgenInfo:b.__docgenInfo,name:"Tab",path:"src/components/TabBar/Tab.tsx#Tab"})}catch{}const u=({pids:s,viewPath:p})=>{const[o,r]=n.exports.useState(s),{pages:g,classes:a,styles:l}=n.exports.useContext(f),i=`${t==null?void 0:t.tabBar} ${a==null?void 0:a.tabBar}`;return n.exports.useEffect(()=>{console.log(o)},[o]),d("div",{className:i,style:l==null?void 0:l.tabBar,children:o.map((c,_)=>d(b,{index:_,pageId:c,viewPath:p}))})};var H=u;try{u.displayName="TabBar",u.__docgenInfo={description:"",displayName:"TabBar",props:{pids:{defaultValue:null,description:"",name:"pids",required:!0,type:{name:"ID[]"}},viewPath:{defaultValue:null,description:"",name:"viewPath",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/components/TabBar/index.tsx#TabBar"]={docgenInfo:u.__docgenInfo,name:"TabBar",path:"src/components/TabBar/index.tsx#TabBar"})}catch{}export{H as T};
//# sourceMappingURL=index.2e891989.js.map
